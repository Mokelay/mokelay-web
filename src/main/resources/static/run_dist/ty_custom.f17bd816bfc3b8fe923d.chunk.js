webpackJsonp([8],{1634:function(t,e,n){var i={"./bb-custom":1296,"./bb-custom.vue":1296,"./question/img/questionsImage.png":2109,"./question/module/add_item_question":2058,"./question/module/add_item_question.vue":2058,"./question/module/compound_radio_question":2059,"./question/module/compound_radio_question.vue":2059,"./question/module/mark_star_question":2060,"./question/module/mark_star_question.vue":2060,"./question/module/multiple_examination_question":2061,"./question/module/multiple_examination_question.vue":2061,"./question/module/multiple_radio_question":2062,"./question/module/multiple_radio_question.vue":2062,"./question/module/name_location_question":2063,"./question/module/name_location_question.vue":2063,"./question/module/open_question":2064,"./question/module/open_question.vue":2064,"./question/module/page_Template":2065,"./question/module/page_Template.vue":2065,"./question/module/questionTemplate":2066,"./question/module/questionTemplate.vue":2066,"./question/question-layout":2110,"./question/question-layout.vue":2110,"./question/question-mine":2111,"./question/question-mine.vue":2111,"./question/question-report":2112,"./question/question-report.vue":2112,"./question/util/common":1819,"./question/util/common.js":1819};function o(t){return n(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id=1634},1819:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.downLoadExcel=function(t,e,n){!function(t,e,n){t.map(function(e,n){switch(e.type){case"open_question":e.dataArray.map(function(e,o){i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:1,pageSize:9999,questionnaire_id:e.questionnaire_id,question_id:e.question_id,option_id:e.option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;t[n].dataArray[o].contentList=i.page_data.currentRecords}})});break;case"name_location_question":i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:1,pageSize:9999,questionnaire_id:e.name.questionnaire_id,question_id:e.name.question_id,option_id:e.name.option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;t[n].nameDataArray=i.page_data.currentRecords}}),i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:1,pageSize:9999,questionnaire_id:e.location.questionnaire_id,question_id:e.location.question_id,option_id:e.location.option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;t[n].locationDataArray=i.page_data.currentRecords}});break;case"add_item_question":i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:1,pageSize:9999,questionnaire_id:e.questionnaire_id,question_id:e.question_id,option_id:e.option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;t[n].contentList=i.page_data.currentRecords}});break;case"mark_star_question":t[n].contentList={},e.options.map(function(o,a){i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:1,pageSize:9999,questionnaire_id:e.questionnaire_id,question_id:e.question_id,option_id:e.options[a].option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;t[n].contentList[a]=i.page_data.currentRecords}})})}}),setTimeout(function(){!function(t,e){var n="";t.map(function(t){switch(t.type){case"multiple_examination_question":n+="<div>"+t.title+"</div><table>",n+="<tr><td>选项</td>",n+="<td>计数</td>",n+="<td>占比</td>",n+="</tr>",t.tableData.map(function(t){n+="<tr><td>"+t.timu+"</td><td>"+t.count+"</td><td>"+t.percent+"</td></tr>"}),n+="</table>";break;case"multiple_radio_question":n+="<div>"+t.title+"</div>",t.tableData.map(function(t){var e=[];n+="<table><tr>",t.tColumn.map(function(t){n+="<td>"+t.label+"</td>",e.push(t.prop)}),n+="</tr>",t.tData.map(function(t){n+="<tr>",e.map(function(e){n+="<td>"+t[e]+"</td>"}),n+="</tr>"}),n+="</table>"});break;case"compound_radio_question":n+="<div>"+t.title+"</div>",t.tableList.map(function(t){n+="<div>"+t.title+"</div>",t.tlist.map(function(t){var e=[];n+="<table><tr>",t.tColumn.map(function(t){n+="<td>"+t.label+"</td>",e.push(t.prop)}),n+="</tr>",t.tData.map(function(t){n+="<tr>",e.map(function(e,i){n+="<td>"+t[e]+"</td>"}),n+="</tr>"}),n+="</table>"})});break;case"open_question":n+="<div>"+t.title+"</div>",t.dataArray.map(function(t){n+="<div>"+t.timu+"</div>",t.contentList.map(function(t){n+="<div>"+t.option_content+"</div>"})});break;case"name_location_question":n+="<div>"+t.title+"</div>",t.nameDataArray.map(function(e,i){n+="<div>"+e.option_content+"</div>",n+=t.locationDataArray[i].option_content});break;case"add_item_question":n+="<div>"+t.title+"</div>",t.contentList.map(function(t){n+="<div>"+t.option_content+"</div>"});break;case"mark_star_question":n+="<div>"+t.title+"</div>",t.options.map(function(e,i){for(var o={timu:"选择数量（人）"},a=0;a<=e.totalStar;a++)o[a]="0";t.contentList[i].map(function(t,e){var n=0==t.option_content.length?"0":t.option_content,i=o[n];i=parseInt(i)+1,o[n]=i}),n+="<table><tr><td></td>";for(var s=0;s<=e.totalStar;s++)n+="<td>"+s+"星</td>";n+="</tr><tr>",n+="<td>"+o.timu+"</td>";for(var u=0;u<=e.totalStar;u++)n+="<td>"+o[u]+"</td>";n+="</tr></table>"})}});var i="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>";i+='<meta http-equiv="content-type" content="application/vnd.ms-excel; charset=UTF-8">',i+='<meta http-equiv="content-type" content="application/vnd.ms-excel',i+='; charset=UTF-8">',i+="<head>",i+="\x3c!--[if gte mso 9]>",i+="<xml>",i+="<x:ExcelWorkbook>",i+="<x:ExcelWorksheets>",i+="<x:ExcelWorksheet>",i+="<x:Name>",i+="{worksheet}",i+="</x:Name>",i+="<x:WorksheetOptions>",i+="<x:DisplayGridlines/>",i+="</x:WorksheetOptions>",i+="</x:ExcelWorksheet>",i+="</x:ExcelWorksheets>",i+="</x:ExcelWorkbook>",i+="</xml>",i+="<![endif]--\x3e",i+="</head>",i+="<body>",i+=n,i+="</body>",i+="</html>";var o="data:application/vnd.ms-excel;charset=utf-8,"+encodeURIComponent(i),a=document.createElement("a");a.href=o,a.style="visibility:hidden",a.download=e+".xls",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(t,e),n()},5e3)}(t,e,n)};var i=window._TY_Tool},2058:function(t,e,n){n(2146);var i=n(0)(n(2116),n(2179),"data-v-5f1397e3",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/add_item_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] add_item_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2059:function(t,e,n){n(2141);var i=n(0)(n(2117),n(2174),"data-v-1bac2ded",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/compound_radio_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] compound_radio_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2060:function(t,e,n){n(2151);var i=n(0)(n(2118),n(2185),"data-v-7972eb62",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/mark_star_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] mark_star_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2061:function(t,e,n){n(2142);var i=n(0)(n(2119),n(2175),"data-v-1de010b2",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/multiple_examination_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] multiple_examination_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2062:function(t,e,n){n(2145);var i=n(0)(n(2120),n(2178),"data-v-406e6568",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/multiple_radio_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] multiple_radio_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2063:function(t,e,n){n(2143);var i=n(0)(n(2121),n(2176),"data-v-1e7f789d",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/name_location_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] name_location_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2064:function(t,e,n){n(2140);var i=n(0)(n(2122),n(2173),"data-v-1a3774ac",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/open_question.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] open_question.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2065:function(t,e,n){var i=n(0)(n(2123),null,null,null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/page_Template.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),t.exports=i.exports},2066:function(t,e,n){n(2144);var i=n(0)(n(2124),n(2177),"data-v-35edf761",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/module/questionTemplate.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] questionTemplate.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2109:function(t,e,n){t.exports=n.p+"8364c92cfe60e5ad01ade80bd21d91f6.png"},2110:function(t,e,n){n(2149);var i=n(0)(n(2125),n(2182),"data-v-6e4d498f",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/question-layout.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-layout.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2111:function(t,e,n){n(2153);var i=n(0)(n(2126),n(2187),"data-v-94a2f510",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/question-mine.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-mine.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2112:function(t,e,n){n(2148);var i=n(0)(n(2127),n(2181),"data-v-65e2e2ce",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/custom/question/question-report.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-report.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2113:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"question-edit-attribute",props:{editBB:{type:Object},editBBDs:{type:Object},readBBDs:{type:Object},aliasKey:{type:String},configKey:{type:String},settingButtonText:{type:String,default:"保存"}},data:function(){return{formFields:[],bbprops:"string"==typeof this.editBB[this.configKey]?JSON.parse(this.editBB[this.configKey]):this.editBB[this.configKey],formDataJSON:null,bbId:this.editBB.id,bbAlias:this.editBB[this.aliasKey]}},mounted:function(){},created:function(){this.getData()},beforeDestroy:function(){},watch:{editBB:function(t){this.bbAlias=t[this.aliasKey],this.bbprops="string"==typeof this.editBB[this.configKey]?JSON.parse(this.editBB[this.configKey]):this.editBB[this.configKey],this.getData()}},methods:{getData:function(t){var e=this;e.readBBDs&&(e.formFields=[],i.getDSData(e.readBBDs,_TY_Tool.buildTplParams(e),function(t){e.formFields=t[0].value},function(t,e){}))},commit:function(t){var e=this;e.formDataJSON=JSON.stringify(t),e.editBBDs&&i.getDSData(e.editBBDs,_TY_Tool.buildTplParams(e),function(t){e.$emit("submit")},function(t,e){})}}}},2114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"question-preview",props:{readPageDs:{type:Object},aliasKey:{type:String},configKey:{type:String},addBBDs:{type:Object},deleteBBDs:{type:Object},indexKey:{type:String},refresh:{type:[String,Number,Boolean]},newBB:{type:Object,default:function(){return{bb:null,key:null}}}},data:function(){return{bbList:[],title:null,maxNumber:null,newBBNumber:null,newBBName:null,deleteBBId:null}},created:function(){this.getData()},watch:{newBB:function(t){var e=this;e.newBBNumber=e.maxNumber+1,e.maxNumber=e.newBBNumber,e.newBBName=e.newBB.bb.alias,this.addBB()},refresh:function(t){this.getData()}},methods:{getData:function(){var t=this;t.readPageDs&&i.getDSData(t.readPageDs,_TY_Tool.buildTplParams(t),function(e){e.forEach(function(e,n){t[e.dataKey]=e.value}),t.maxNumber=t.bbList[t.bbList.length-1][t.indexKey]},function(t,e){})},addBB:function(){var t=this;t.addBBDs&&i.getDSData(t.addBBDs,_TY_Tool.buildTplParams(t),function(e){t.getData()},function(t,e){})},removeItem:function(t){var e=this;e.deleteBBId=t.id,e.$confirm("确认删除此项？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteBBDs&&i.getDSData(e.deleteBBDs,_TY_Tool.buildTplParams(e),function(n){e.$emit("delete",t),e.getData()},function(t,e){})}).catch(function(t){})},editItem:function(t){this.$emit("edit",t)}}}},2115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"question-tool",props:{toolListDs:{type:Object}},data:function(){return{toolList:[],clickTimes:null}},created:function(){this.getData()},methods:{getData:function(){var t=this;t.toolListDs&&i.getDSData(t.toolListDs,_TY_Tool.buildTplParams(t),function(e){var n=e[0].value.list;t.toolList=n},function(t,e){})},addBB:function(t){this.clickTimes++,this.$emit("add",{bb:t,key:this.clickTimes})}}}},2116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"add-item-question",props:{componentData:{type:Object},componentIndex:{type:Number,default:0}},data:function(){return{currentPage:1,pageSize:2,total:0,answerList:[],answerTitleList:[]}},mounted:function(){this.getPaginationDataTitle()},methods:{handleCurrentChange:function(t){this.currentPage=t,this.getPaginationDataTitle()},handleSizeChange:function(){},getPaginationDataTitle:function(){var t=this;t.componentData&&("add"===t.componentData.style?i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:t.currentPage,pageSize:t.pageSize,questionnaire_id:t.componentData?t.componentData.questionnaire_id_title:0,question_id:t.componentData?t.componentData.question_id_title:0,option_id:t.componentData?t.componentData.option_id_title:0}).then(function(e){if(200==e.data.code){var n=e.data.data;t.answerTitleList=n.page_data.currentRecords,t.total=n.page_data.totalRecords,t.getPaginationData()}}):(t.answerTitleList=[],t.getPaginationData()))},getPaginationData:function(){var t=this;t.componentData&&i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:t.currentPage,pageSize:t.pageSize,questionnaire_id:t.componentData?t.componentData.questionnaire_id:0,question_id:t.componentData?t.componentData.question_id:0,option_id:t.componentData?t.componentData.option_id:0}).then(function(e){if(200==e.data.code){var n=e.data.data,i=n.page_data.currentRecords;i.map(function(e,n){i[n].option_content=("add"===t.componentData.style?t.answerTitleList[n].option_content+",":"")+i[n].option_content}),t.answerList=i,t.total=n.page_data.totalRecords}})}}}},2117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"compound-radio-question",props:{componentData:{type:Object,default:{tableList:[]}},componentIndex:{type:Number,default:0}},data:function(){return{}},methods:{}}},2118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"mark-star-question",props:{componentData:{type:Object},componentIndex:{type:Number,default:0}},data:function(){return{currentPage:1,pageSize:99999,total:0,answerList:[],tableDataList:{}}},mounted:function(){this.setTabelData(),this.getPaginationData()},methods:{setTabelData:function(){var t=this;this.componentData.options.map(function(e,n){for(var i={timu:e.timu},o=0;o<=e.totalStar;o++)i[o]="0";var a=[];a.push(i),t.tableDataList[n]=a})},getPaginationData:function(){var t=this;t.componentData&&t.componentData.options.map(function(e,n){i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:t.currentPage,pageSize:t.pageSize,questionnaire_id:t.componentData?t.componentData.questionnaire_id:0,question_id:t.componentData?t.componentData.question_id:0,option_id:t.componentData?t.componentData.options[n].option_id:0}).then(function(e){if(200==e.data.code){var i=e.data.data.page_data.currentRecords,o=t.tableDataList[n][0];i.map(function(t){var e=0==t.option_content.length?"0":t.option_content,n=o[e];n=parseInt(n)+1,o[e]=n}),t.tableDataList[n][0]=o}})})}}}},2119:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"multiple-examination-question",props:{componentData:{type:Object},componentIndex:{type:Number,default:0}},data:function(){return{scalY:this.componentData?this.componentData.scalY:[],scalX:this.componentData?this.componentData.scalX:[],tableData:this.componentData?this.componentData.tableData:[]}},mounted:function(){var t=this;n.e(6).then(function(e){var i=n(1311).init(t.$refs.chartRef),o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:t.scalY},series:[{name:"计数",type:"bar",data:t.scalX,itemStyle:{normal:{color:"#3DB8FA"}}}]};i.setOption(o)}.bind(null,n)).catch(n.oe)},methods:{}}},2120:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"multiple-radio-question",props:{componentData:{type:Object},componentIndex:{type:Number,default:0}},data:function(){return{tableData:this.componentData?this.componentData.tableData:[]}},methods:{}}},2121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"name-location-question",props:{componentData:{type:Object},componentIndex:{type:Number,default:0}},data:function(){return{currentPage:1,pageSize:2,total:0,nameList:[],locationList:[]}},mounted:function(){this.getPaginationData("name"),this.getPaginationData("location")},methods:{handleCurrentChange:function(t){this.currentPage=t,this.getPaginationData("name"),this.getPaginationData("location")},handleSizeChange:function(){},getPaginationData:function(t){var e=this;e.componentData&&("name"===t?i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:e.currentPage,pageSize:e.pageSize,questionnaire_id:e.componentData?e.componentData.name.questionnaire_id:0,question_id:e.componentData?e.componentData.name.question_id:0,option_id:e.componentData?e.componentData.name.option_id:0}).then(function(t){if(200==t.data.code){var n=t.data.data;e.nameList=n.page_data.currentRecords,e.total=e.total>n.page_data.totalRecords?e.total:n.page_data.totalRecords}}):"location"===t&&i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:e.currentPage,pageSize:e.pageSize,questionnaire_id:e.componentData?e.componentData.location.questionnaire_id:0,question_id:e.componentData?e.componentData.location.question_id:0,option_id:e.componentData?e.componentData.location.option_id:0}).then(function(t){if(200==t.data.code){var n=t.data.data;e.locationList=n.page_data.currentRecords,e.total=e.total>n.page_data.totalRecords?e.total:n.page_data.totalRecords}}))}}}},2122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window._TY_Tool;e.default={name:"open-question",props:{componentData:{type:Object,default:{title:"",type:"",dataArray:[]}},componentIndex:{type:Number,default:0}},data:function(){return{currentPage:1,pageSize:2,total:0,answersData:this.componentData?this.componentData.dataArray:[]}},mounted:function(){this.getAnswersData()},methods:{handleCurrentChange:function(t){this.currentPage=t,this.getAnswersData()},handleSizeChange:function(t){},getAnswersData:function(){var t=this;0!=t.answersData.length&&t.answersData.map(function(e,n){i.get(window._TY_ContentPath+"/cms-page-question-answer",{page:t.currentPage,pageSize:t.pageSize,questionnaire_id:e.questionnaire_id,question_id:e.question_id,option_id:e.option_id}).then(function(e){if(200==e.data.code){var i=e.data.data;if(0!=i.page_data.currentRecords.length){var o=t.answersData;o[n].answers=i.page_data.currentRecords,t.$set(t,"answersData",o)}t.total=t.total>i.page_data.totalRecords?t.total:i.page_data.totalRecords}})})}}}},2123:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(2061)),o=d(n(2062)),a=d(n(2063)),s=d(n(2058)),u=d(n(2064)),r=d(n(2059)),l=d(n(2060));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"page-template",props:{pageData:{type:Array}},data:function(){return{}},components:{multipleExaminationQuestion:i.default,multipleRadioQuestion:o.default,nameLocationQuestion:a.default,addItemQuestion:s.default,openQuestion:u.default,compoundRadioQuestion:r.default,markStarQuestion:l.default},render:function(t){var e=[];return this.pageData.map(function(n,i){switch(n.type){case"multiple_examination_question":e.push(t("multipleExaminationQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"multiple_radio_question":e.push(t("multipleRadioQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"name_location_question":e.push(t("nameLocationQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"open_question":e.push(t("openQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"compound_radio_question":e.push(t("compoundRadioQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"add_item_question":e.push(t("addItemQuestion",{props:{componentData:n,componentIndex:i}},[]));break;case"mark_star_question":e.push(t("markStarQuestion",{props:{componentData:n,componentIndex:i}},[]))}}),t("div",{},e)}}},2124:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"],data:function(){return{status:!1,cursorFlag:!1}},computed:{imgSrc:function(){return n(2109)}},methods:{qrcodeShow:function(){var t=this.data.id,e=1==this.data.online_status?"yes":"no",i=this.data.slide_page?"surveySlide":"survey";n.e(13).then(function(o){n(2104).toCanvas(document.getElementById("qrccode-canvas"+t),window._TY_ENV.questionnaireHost+"#/"+i+"?id="+t+"&surveystate="+e,function(t){})}.bind(null,n)).catch(n.oe)},questionCopy:function(){this.$emit("copyQuestion",{id:this.data.id})},questionDelete:function(){this.$emit("deleteQuestion",{id:this.data.id})},mouseoverTwocode:function(){this.cursorFlag=!0,this.qrcodeShow()},editQuestionDetail:function(){this.$emit("editQuestionDetail",{data:this.data})},releaseReturn:function(){this.$emit("releaseReturn",{id:this.data.id})},fixtype:function(t){return"image/"+(t=t.toLocaleLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]},createTwoCodeImage:function(){var t=document.createElement("a");t.href=this.$refs.twoCodeDom.toDataURL("image/png"),t.download=this.data.title+".png",t.click()}}}},2125:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(2189)),o=s(n(2191)),a=s(n(2190));function s(t){return t&&t.__esModule?t:{default:t}}window._TY_Tool;e.default={name:"question-layout",props:{dsRead:{type:Object}},data:function(){return{pageAlias:this.$route.query.param,showEdit:!1,previewWidth:21,editWidth:0,newBB:null,editBB:null,refresh:null,releaseButton:{type:"primary",text:"发布问卷",action:"execute-ds",ds:{api:"cms-update-release-questionnaire",category:"config",method:"post",inputs:[{paramName:"id",valueType:"constant",constant:this.$route.query.param}]},confirmTitle:"提示",confirmText:"确认发布这篇问卷？",callBackStaticWords:"问卷发布成功"},previewButton:{text:"预览问卷",action:"url",url:_TY_ENV.questionnaireHost+"#/survey?surveystate=no&id="+this.$route.query.param,urlType:"openWindow"},toolListDs:{api:"list-bb",category:"config",method:"post",inputs:[{paramName:"type",valueType:"constant",constant:"Questionnaire"}],outputs:[{dataKey:"type",valueKey:"data_list"}]},indexKey:"question_no",aliasKey:"question_type",configKey:"config",readPageDs:{api:"cms-read-questionnaire",category:"config",method:"post",inputs:[{paramName:"id",valueType:"constant",constant:this.$route.query.param}],outputs:[{dataKey:"bbList",valueKey:"data_list.list"},{dataKey:"title",valueKey:"data.title"}]},addBBDs:{api:"cms-add-question",category:"config",method:"post",inputs:[{paramName:"questionnaire_id",valueType:"constant",constant:this.$route.query.param},{paramName:"question_type",valueType:"inputValueObj",valueKey:"bb",variable:"newBBName"},{paramName:"question_no",valueType:"inputValueObj",valueKey:"bb",variable:"newBBNumber"}],outputs:[{dataKey:"type",valueKey:"unique_value"}]},deleteBBDs:{api:"cms-delete-question",category:"config",method:"post",inputs:[{paramName:"id",valueType:"inputValueObj",valueKey:"bb",variable:"deleteBBId"}]},readBBDs:{api:"cms-list-bb-by-alias",method:"get",category:"config",inputs:[{paramName:"alias",valueType:"inputValueObj",valueKey:"bb",variable:"bbAlias"}],outputs:[{dataKey:"tableData",valueKey:"data_list.list"}]},editBBDs:{api:"cms-update-questionnaire",method:"post",category:"config",inputs:[{paramName:"id",valueType:"inputValueObj",valueKey:"bb",variable:"bbId"},{paramName:"config",valueType:"inputValueObj",valueKey:"bb",variable:"formDataJSON"}]}}},methods:{editClick:function(t){this.showEditor(),this.editBB=t},addBB:function(t){this.hideEditor(),this.newBB=t},afterSubmit:function(){this.hideEditor(),this.refresh=Date.parse(new Date)},showEditor:function(){var t=this;t.previewWidth=12,t.editWidth=9,t.showEdit=!0},hideEditor:function(){var t=this;t.previewWidth=21,t.editWidth=0,t.showEdit=!1}},components:{"question-tool":o.default,"question-preview":a.default,"question-edit-attribute":i.default}}},2126:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2066),a=(i=o)&&i.__esModule?i:{default:i};e.default={props:{},data:function(){return{questionList:[],dialogCreateQuestion:!1,title:"",description:"",btnFlag:!0,dialogEditQuestion:!1,editTitle:"",editDescription:"",editId:"",editBtnFlag:!1,startEndFlag:0,userInfoCollect:0,questionStartContent:"",questionEndContent:"",editStartEndFlag:"",editUserInfoCollect:"",editQuestionStartContent:"",editQuestionEndContent:"",appUseQuestion:!1,editAppUseQuestion:!1,slidePage:!1,editSlidePage:!1}},created:function(){this.getMyquestionsList()},mounted:function(){},beforeDestroy:function(){},components:{questionTemplate:a.default},methods:{getMyquestionsList:function(){var t=this;_TY_Tool.get(window._TY_ContentPath+"/cms-list-questionnaire").then(function(e){200==e.data.code&&(t.questionList=e.data.data.data_list.list)})},copyQuestion:function(t){var e=this;_TY_Tool.post(window._TY_ContentPath+"/wy-add-copy-questionnaire",{id:t.id}).then(function(t){t.data.ok?(e.$message.success("复制问卷成功！"),e.getMyquestionsList()):e.$message.error(t.data.message)})},deleteQuestion:function(t){var e=this;_TY_Tool.post(window._TY_ContentPath+"/cms-delete-questionnaire",{id:t.id}).then(function(t){t.data.ok?(e.$message.success("删除问卷成功！"),e.getMyquestionsList()):e.$message.error(t.data.message)})},releaseReturn:function(t){var e=this;_TY_Tool.post(window._TY_ContentPath+"/cms-update-cancel-publication-questionnaire",{id:t.id}).then(function(t){t.data.ok?(e.$message.success("问卷发布撤回成功！"),e.getMyquestionsList()):e.$message.error(t.data.message)})},createQuestion:function(t){"ok"===t&&this.createQuestions(),this.btnFlag=!0,this.title="",this.discrible="",this.startEndFlag=!1,this.userInfoCollect=!1,this.dialogCreateQuestion=!1,this.slidePage=!1},titleInputChange:function(){0!=this.title.length?this.btnFlag=!1:this.btnFlag=!0},createQuestions:function(){var t=this;_TY_Tool.post(window._TY_ContentPath+"/cms-add-questionnaire",{title:this.title,description:this.description,startEndFlag:this.startEndFlag?1:0,userInfoCollect:this.userInfoCollect?1:0,questionStartContent:this.questionStartContent,questionEndContent:this.questionEndContent,edit_app_use_question:this.appUseQuestion?1:0,slide_page:this.slidePage?1:0}).then(function(e){e.data.ok?(t.$message.success("问卷创建成功！"),t.$router.push("/questionnaire/index/question-layout?param="+e.data.data.unique_value)):t.$message.error(e.data.message)})},editDetail:function(t){this.editTitle=t.data.title,this.editDescription=t.data.description,this.editId=t.data.id,this.editStartEndFlag=t.data.start_end_flag,this.editUserInfoCollect=t.data.user_info_collect,this.editQuestionStartContent=t.data.question_start_content,this.editQuestionEndContent=t.data.question_end_content,this.editAppUseQuestion=t.data.edit_app_use_question,this.editSlidePage=1==t.data.slide_page,this.dialogEditQuestion=!0},editQuestion:function(t){"ok"===t&&this.EditQuestionsDetail(),this.editBtnFlag=!1,this.editTitle="",this.editDescription="",this.dialogEditQuestion=!1},EditQuestionsDetail:function(){var t=this;_TY_Tool.post(window._TY_ContentPath+"/cms-update-questionnaire-by-id",{id:this.editId,title:this.editTitle,description:this.editDescription,start_end_flag:this.editStartEndFlag,user_info_collect:this.editUserInfoCollect,question_start_content:this.editQuestionStartContent,question_end_content:this.editQuestionEndContent,edit_app_use_question:this.editAppUseQuestion,slide_page:this.editSlidePage?1:0}).then(function(e){e.data.ok?(t.$message.success("问卷编辑成功！"),t.getMyquestionsList()):t.$message.error(e.data.message)})},titleInputEdit:function(){0==this.editTitle.length?this.editBtnFlag=!0:this.editBtnFlag=!1},queStartChange:function(){this.startEndFlag||(this.questionStartContent="",this.questionEndContent="")},editQueStartChange:function(){this.startEndFlag||(this.editQuestionStartContent="",this.editQuestionEndContent="")}}}},2127:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2065),a=(i=o)&&i.__esModule?i:{default:i},s=n(1819);var u=window._TY_Tool;e.default={name:"question-report",data:function(){return{pageTitle:"",updateTime:"",online_status:"",release_number:0,questionnaire_id:this.$route.query.param,loading:!1,data_list_option:{},data_list_t:{},data_answer_count:{},data_list_question:[],pageData:[],exportTableData:[],fileUrl:""}},components:{pageTemplate:a.default},mounted:function(){this.getQuestionPageData(),this.fileUrl=window.location.origin+"/wj/report/export?id="+this.questionnaire_id},methods:{onClickExportExcel:function(){this.loading=!0,(0,s.downLoadExcel)(this.pageData,this.pageTitle,this.setLoading)},setLoading:function(){this.loading=!1},getQuestionPageData:function(){var t=this;u.get(window._TY_ContentPath+"/cms-groupBy-question-answer",{id:t.questionnaire_id}).then(function(e){200==e.data.code&&t.pageDataSolve(e.data.data)})},pageDataSolve:function(t){var e=this;e.pageTitle=t.data_questionnaire.title,e.updateTime=t.data_questionnaire.update_time,e.online_status=t.data_questionnaire.online_status,e.release_number=t.data_questionnaire.will_num,e.data_list_question=t.data_list_question.list,t.data_list_option.list.map(function(t){e.data_list_option[t.option_id]=t}),t.data_list_t.list.map(function(t){e.data_list_t[t.option_id]=t}),t.data_answer_count.list.map(function(t){e.data_answer_count[t.question_id]=t}),e.createQuestionData()},createQuestionData:function(){var t=this,e={};t.data_list_question.map(function(n){var i=JSON.parse(n.config);if(i)switch(n.question_type){case"bb-multiple-choice-question":case"bb-radio-examination":var o=[],a=[],s=[],u=0;(e={}).type="multiple_examination_question",e.title=i.title,e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,i.options&&i.options.map(function(e){s.push(e.timu),t.data_list_option[e.uuid]?(a.push(t.data_list_option[e.uuid].idCount),u+=parseInt(t.data_list_option[e.uuid].idCount),o.push({timu:e.timu,count:t.data_list_option[e.uuid].idCount,percent:""})):(a.push("0"),o.push({timu:e.timu,count:"0",percent:""}))}),o.forEach(function(t,e,n){n[e].percent=0!=u?(100*t.count/u).toFixed(2)+"%":"0"}),e.scalY=s,e.scalX=a,e.tableData=o,t.pageData.push(e);break;case"bb-multiple-radio-questions":var r=[];(e={}).type="multiple_radio_question",e.title=i.title?i.title:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,i.options&&i.options.map(function(e){var n=[],i={},o=[],a={};i={prop:"title",label:"选项"},n.push(i),a.title=e.timu,e.list.map(function(e,o){i={prop:"option"+o,label:e.timu},n.push(i),a["option"+o]=t.data_list_option[e.uuid]?t.data_list_option[e.uuid].idCount:0}),o.push(a),r.push({tColumn:n,tData:o})}),e.tableData=r,t.pageData.push(e);break;case"bb-name-address":(e={}).type="name_location_question",e.title="名称与地址",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,e.name={questionnaire_id:t.questionnaire_id,question_id:n.id,option_id:i.name.uuid},e.location={questionnaire_id:t.questionnaire_id,question_id:n.id,option_id:i.location.uuid},t.pageData.push(e);break;case"bb-open-questions":var l=[];(e={}).type="open_question",e.title=i.title?i.title:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,i.options&&i.options.map(function(e){l.push({questionnaire_id:t.questionnaire_id,question_id:n.id,option_id:e.uuid,timu:e.timu,answers:[]})}),e.dataArray=l,t.pageData.push(e);break;case"bb-compound-radio-questions":var d=[];(e={}).type="compound_radio_question",e.title=i.title?i.title:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,i.options&&i.options.map(function(e){var n={},i=[];n.title=e.timu,e.list.map(function(e){var n=[],o={},a=[],s={};o={prop:"title",label:"选项"},n.push(o),s.title=e.timu,e.list.map(function(e,i){o={prop:"option"+i,label:e.timu},n.push(o),s["option"+i]=t.data_list_option[e.uuid]?t.data_list_option[e.uuid].idCount:0}),a.push(s),i.push({tColumn:n,tData:a})}),n.tlist=i,d.push(n)}),e.tableList=d,t.pageData.push(e);break;case"bb-single-column-cloze":(e={}).type="add_item_question",e.title=i.title?i.title:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,e.questionnaire_id=t.questionnaire_id,e.question_id=n.id,e.option_id=i.uuid,t.pageData.push(e);break;case"bb-mall-address-question":(e={}).type="add_item_question",e.title=i.title?i.title:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,e.questionnaire_id=t.questionnaire_id,e.question_id=n.id,e.option_id=i.options.uuid,t.pageData.push(e);break;case"bb-add-item-questions":(e={}).type="add_item_question",e.style="add",e.title=i.title?i.title.timu:"",e.questionCount=t.data_answer_count[n.id]?t.data_answer_count[n.id].idCount:0,e.questionnaire_id_title=t.questionnaire_id,e.question_id_title=n.id,e.option_id_title=i.title.uuid,e.questionnaire_id=t.questionnaire_id,e.question_id=n.id,e.option_id=i.options.uuid,t.pageData.push(e);break;case"bb-mark-star-questions":var c=[];(e={}).type="mark_star_question",e.title=i.title?i.title:"",i.options.map(function(t,e){c.push({timu:t.timu,totalStar:t.totalScore,option_id:t.uuid})}),e.questionnaire_id=t.questionnaire_id,e.question_id=n.id,e.options=c,t.pageData.push(e)}})}}}},2140:function(t,e){},2141:function(t,e){},2142:function(t,e){},2143:function(t,e){},2144:function(t,e){},2145:function(t,e){},2146:function(t,e){},2147:function(t,e){},2148:function(t,e){},2149:function(t,e){},2150:function(t,e){},2151:function(t,e){},2153:function(t,e){},2154:function(t,e){},2173:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"openQuestion"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),n("div",{staticClass:"questionAnswer"},[t._l(t.answersData,function(e,i){return n("div",{key:i,staticClass:"answerTemplate"},[n("div",{staticClass:"interLayer"}),t._v(" "),n("div",{staticClass:"questionTitle"},[t._v(t._s(e.timu))]),t._v(" "),n("div",{staticClass:"text"},[t._v("回复情况")]),t._v(" "),t._l(e.answers,function(e,i){return n("div",{key:i,staticClass:"answerText"},[t._v(t._s(e.option_content))])})],2)}),t._v(" "),n("div",{staticClass:"personsNumber"},[n("span",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,  prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],2)])},staticRenderFns:[]},t.exports.render._withStripped=!0},2174:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compoundRadioQuestion"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),n("div",{staticClass:"tableArea"},t._l(t.componentData.tableList,function(e,i){return n("div",{key:i,staticClass:"dataTable"},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.tlist,function(e,i){return n("div",{key:i,staticClass:"table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tData}},t._l(e.tColumn,function(t,e){return n("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label}})}))],1)})],2)}))])},staticRenderFns:[]},t.exports.render._withStripped=!0},2175:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multipleExamination"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),n("div",{staticClass:"dataChart"},[n("div",{ref:"chartRef",attrs:{id:"chartId"}})]),t._v(" "),n("div",{staticClass:"dataTable"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"timu",label:"选项"}}),t._v(" "),n("el-table-column",{attrs:{prop:"count",label:"计数"}}),t._v(" "),n("el-table-column",{attrs:{prop:"percent",label:"占比"}})],1)],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},2176:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nameLocationQuestion"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v("经销商名称与地址")]),t._v(" "),n("div",{staticClass:"questionAnswer"},[n("div",{staticClass:"text"},[t._v("回复情况")]),t._v(" "),t._l(t.locationList,function(e,i){return n("div",{key:i,staticClass:"answerTemplate"},[n("span",{staticClass:"name"},[t._v(t._s(t.nameList[i]?t.nameList[i].option_content:""))]),t._v(" "),n("span",{staticClass:"location"},[t._v(t._s(e?e.option_content:""))])])}),t._v(" "),n("div",{staticClass:"personsNumber"},[n("span",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,  prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],2)])},staticRenderFns:[]},t.exports.render._withStripped=!0},2177:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myquestion_template"},[n("div",{staticClass:"question_info"},[n("div",{staticClass:"image_icon"},[n("img",{attrs:{src:t.imgSrc}}),t._v(" "),n("div",{class:["twoCodeview",t.data.online_status?"afterLocation":""],style:{display:t.cursorFlag?"block":"none"}},[n("div",{staticClass:"imgView"},[n("canvas",{ref:"twoCodeDom",attrs:{id:"qrccode-canvas"+t.data.id}})]),t._v(" "),n("div",{staticClass:"text"},[t._v("扫一扫即可答卷")])])]),t._v(" "),n("div",{staticClass:"temp_bottom"},[n("div",{staticClass:"question_tatus"},[n("i",{class:1==t.data.online_status?"release ty-icon_duoxuan":"notRelease ty-wenjuan_wenfabu"}),n("span",{class:1==t.data.online_status?"releaseText":"notReleaseText"},[t._v(t._s(1==t.data.online_status?"已发布":"未发布"))])]),t._v(" "),n("div",{staticClass:"question_operate"},[n("el-tooltip",{staticClass:"item firstIcon",attrs:{placement:"top",effect:"light",content:"编辑问卷"}},[n("router-link",{attrs:{to:"/questionnaire/index/question-layout?param="+t.data.id}},[n("i",{staticClass:"iconfont ty-wenjuan_bianji",style:{display:1==t.data.online_status?"none":""}})])],1),t._v(" "),n("el-tooltip",{staticClass:"item firstIcon",attrs:{placement:"top",effect:"light",content:"撤回问卷"}},[n("i",{staticClass:"iconfont ty-icon_jujue",style:{display:1==t.data.online_status?"":"none"},on:{click:t.releaseReturn}})]),t._v(" "),n("i",{staticClass:"iconfont ty-icon_erweima twoCodeHover",on:{mouseover:t.mouseoverTwocode,mouseout:function(e){t.cursorFlag=!1},click:t.createTwoCodeImage}}),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{placement:"top",effect:"light",content:"复制问卷"}},[n("i",{staticClass:"iconfont ty-wenjuan_fuzhi",on:{click:t.questionCopy}})]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{placement:"top",effect:"light",content:"删除问卷"}},[n("i",{staticClass:"iconfont ty-icon_lajitong",style:{display:1==t.data.online_status?"none":""},on:{click:t.questionDelete}})]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{placement:"top",effect:"light",content:"编辑详情"}},[n("i",{staticClass:"iconfont ty-icon_shezhi1",style:{display:1==t.data.online_status?"none":""},on:{click:t.editQuestionDetail}})]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{placement:"top-start",effect:"light",content:"数据报表"}},[n("router-link",{attrs:{to:"/questionnaire/index/question-report?param="+t.data.id}},[n("i",{staticClass:"iconfont ty-wenjuan_sjbaobiao",style:{display:1==t.data.online_status?"":"none"}})])],1)],1)])]),t._v(" "),n("div",{staticClass:"question_title"},[t._v(t._s(t.data.title))])])},staticRenderFns:[]},t.exports.render._withStripped=!0},2178:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multipleRadio"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),n("div",{staticClass:"tableArea"},[n("div",{staticClass:"dataTable"},t._l(t.tableData,function(e,i){return n("div",{key:i},[n("div",{staticClass:"separateArea",style:{display:0==i?"none":"block"}}),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tData}},t._l(e.tColumn,function(t,e){return n("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label}})}))],1)}))])])},staticRenderFns:[]},t.exports.render._withStripped=!0},2179:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addItemQuestion"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),n("div",{staticClass:"questionAnswer"},[n("div",{staticClass:"text"},[t._v("回复情况")]),t._v(" "),t._l(t.answerList,function(e,i){return n("div",{key:i,staticClass:"answerTemplate"},[t._v(t._s(e.option_content))])}),t._v(" "),n("div",{staticClass:"personsNumber"},[n("span",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,  prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],2)])},staticRenderFns:[]},t.exports.render._withStripped=!0},2180:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bb-preview"},[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),t._l(t.bbList,function(e,i){return n("div",{staticClass:"bb-preview-item"},[n("div",{staticClass:"buttonInfo"},[n("p",[t._v(t._s("Q"+(i+1)))]),t._v(" "),n("el-button",{staticClass:"button-item",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){t.editItem(e)}}}),t._v(" "),n("el-button",{staticClass:"button-item",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){t.removeItem(e)}}})],1),t._v(" "),n("bb",{attrs:{alias:e[t.aliasKey],config:e[t.configKey]}})],1)})],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},2181:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"questionReport"},[n("div",{staticClass:"pageTitle"},[t._v("数据报表")]),t._v(" "),n("div",{staticClass:"pageInfo"},[n("div",{staticClass:"nameAndTime"},[n("div",{staticClass:"questionsTitle"},[t._v(t._s(t.pageTitle))]),t._v(" "),n("div",{staticClass:"timeAndStatus"},[n("span",{staticClass:"releaseTime"},[t._v("最后更新时间："+t._s(t.updateTime))]),t._v(" "),n("span",{staticClass:"status"},[t._v("当前状态："+t._s(1==t.online_status?"发布中":""))])])]),t._v(" "),n("div",{staticClass:"pageOperate"},[n("span",{staticClass:"questionsNumber"},[n("span",[t._v("当前已收集问卷")]),t._v(" "),n("span",{staticClass:"number"},[t._v(t._s(t.release_number)+"份")])]),t._v(" "),n("span",{staticClass:"operateBtn"},[n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.onClickExportExcel}},[t._v("按题目导出")]),t._v(" "),n("a",{attrs:{href:t.fileUrl}},[n("el-button",{attrs:{type:"primary"}},[t._v("按用户导出")])],1)],1)])]),t._v(" "),n("div",{staticClass:"pageContent"},[n("pageTemplate",{attrs:{pageData:t.pageData}})],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},2182:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-layout"},[n("div",{staticClass:"question-topbar"},[n("span",[t._v("编辑问卷")]),t._v(" "),n("bb-button",{staticClass:"question-topbar-button",attrs:{type:"primary",button:t.releaseButton}}),t._v(" "),n("bb-button",{staticClass:"question-topbar-button",attrs:{button:t.previewButton}})],1),t._v(" "),n("el-row",{staticClass:"question-layout-content"},[n("el-col",{attrs:{span:3}},[n("question-tool",{attrs:{toolListDs:t.toolListDs},on:{add:t.addBB}})],1),t._v(" "),n("el-col",{attrs:{span:t.previewWidth}},[n("question-preview",{attrs:{pageAlias:t.pageAlias,indexKey:t.indexKey,aliasKey:t.aliasKey,configKey:t.configKey,newBB:t.newBB,readPageDs:t.readPageDs,addBBDs:t.addBBDs,deleteBBDs:t.deleteBBDs,refresh:t.refresh},on:{edit:t.editClick,delete:t.hideEditor}})],1),t._v(" "),t.showEdit?n("el-col",{attrs:{span:t.editWidth}},[n("question-edit-attribute",{attrs:{aliasKey:t.aliasKey,configKey:t.configKey,editBBDs:t.editBBDs,readBBDs:t.readBBDs,editBB:t.editBB},on:{submit:t.afterSubmit}})],1):t._e()],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2183:function(t,e,n){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit-attribute"},[e("bb-form",{attrs:{value:this.bbprops,fields:this.formFields,settingButtonText:this.settingButtonText,refresh:this.bbAlias},on:{commit:this.commit}})],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2185:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markStarQuestion"},[n("div",{staticClass:"questionTitle"},[n("span",[t._v("Q"+t._s(t.componentIndex+1))]),t._v(t._s(t.componentData?t.componentData.title:""))]),t._v(" "),t._l(t.componentData.options,function(e,i){return n("div",{key:i,staticClass:"questionAnswer"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataList[i]}},[n("el-table-column",{attrs:{prop:"timu",label:""}}),t._v(" "),t._l(e.totalStar+1,function(t,e){return n("el-table-column",{key:t,attrs:{prop:e.toString(),label:e.toString()+"星"}})})],2)],1)})],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},2187:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wj_question_mine"},[n("div",{staticClass:"qm_title"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogCreateQuestion=!0}}},[t._v("创建问卷")])],1),t._v(" "),n("div",{staticClass:"qm_content"},t._l(t.questionList,function(e,i){return n("questionTemplate",{key:i,attrs:{data:e},on:{copyQuestion:t.copyQuestion,deleteQuestion:t.deleteQuestion,editQuestionDetail:t.editDetail,releaseReturn:t.releaseReturn}})})),t._v(" "),n("el-dialog",{attrs:{title:"创建问卷",visible:t.dialogCreateQuestion},on:{"update:visible":function(e){t.dialogCreateQuestion=e},close:function(e){t.createQuestion("cancel")}}},[n("div",[n("div",{style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px",lineHeight:"36px"}},[t._v("问卷标题")]),t._v(" "),n("el-input",{attrs:{placeholder:"请输入标题"},on:{change:t.titleInputChange},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),n("div",{staticClass:"questions-attr",style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%",lineHeight:"36px",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"74px",lineHeight:"36px"}},[t._v("问卷属性")]),t._v(" "),n("el-checkbox",{on:{change:t.queStartChange},model:{value:t.startEndFlag,callback:function(e){t.startEndFlag=e},expression:"startEndFlag"}},[t._v("显示开始结束项")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.userInfoCollect,callback:function(e){t.userInfoCollect=e},expression:"userInfoCollect"}},[t._v("显示用户收集页面")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.appUseQuestion,callback:function(e){t.appUseQuestion=e},expression:"appUseQuestion"}},[t._v("App问卷")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.slidePage,callback:function(e){t.slidePage=e},expression:"slidePage"}},[t._v("滑动问卷")])],1),t._v(" "),n("div",{style:{display:t.startEndFlag?"inline-flex":"none",display:t.startEndFlag?"-webkit-inline-flex":"none",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷开始语")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷开始说明"},model:{value:t.questionStartContent,callback:function(e){t.questionStartContent=e},expression:"questionStartContent"}})],1),t._v(" "),n("div",{style:{display:t.startEndFlag?"inline-flex":"none",display:t.startEndFlag?"-webkit-inline-flex":"none",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷结束语")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷结束语"},model:{value:t.questionEndContent,callback:function(e){t.questionEndContent=e},expression:"questionEndContent"}})],1),t._v(" "),n("div",{style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷描述")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷描述"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.createQuestion("cancel")}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",disabled:t.btnFlag},on:{click:function(e){t.createQuestion("ok")}}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"编辑详情",visible:t.dialogEditQuestion},on:{"update:visible":function(e){t.dialogEditQuestion=e},close:function(e){t.editQuestion("cancel")}}},[n("div",[n("div",{style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px",lineHeight:"36px"}},[t._v("问卷标题")]),t._v(" "),n("el-input",{attrs:{placeholder:"问卷标题"},on:{change:t.titleInputEdit},model:{value:t.editTitle,callback:function(e){t.editTitle=e},expression:"editTitle"}})],1),t._v(" "),n("div",{staticClass:"questions-attr",style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%",lineHeight:"36px",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"74px",lineHeight:"36px"}},[t._v("问卷属性")]),t._v(" "),n("el-checkbox",{on:{change:t.editQueStartChange},model:{value:t.editStartEndFlag,callback:function(e){t.editStartEndFlag=e},expression:"editStartEndFlag"}},[t._v("显示开始结束项")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.editUserInfoCollect,callback:function(e){t.editUserInfoCollect=e},expression:"editUserInfoCollect"}},[t._v("显示用户收集页面")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.editAppUseQuestion,callback:function(e){t.editAppUseQuestion=e},expression:"editAppUseQuestion"}},[t._v("App问卷")]),t._v(" "),n("el-checkbox",{style:{marginLeft:"35px"},model:{value:t.editSlidePage,callback:function(e){t.editSlidePage=e},expression:"editSlidePage"}},[t._v("滑动问卷")])],1),t._v(" "),n("div",{style:{display:t.editStartEndFlag?"inline-flex":"none",display:t.editStartEndFlag?"-webkit-inline-flex":"none",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷开始语")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷开始说明"},model:{value:t.editQuestionStartContent,callback:function(e){t.editQuestionStartContent=e},expression:"editQuestionStartContent"}})],1),t._v(" "),n("div",{style:{display:t.editStartEndFlag?"inline-flex":"none",display:t.editStartEndFlag?"-webkit-inline-flex":"none",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷结束语")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷结束语"},model:{value:t.editQuestionEndContent,callback:function(e){t.editQuestionEndContent=e},expression:"editQuestionEndContent"}})],1),t._v(" "),n("div",{style:{display:"inline-flex",display:"-webkit-inline-flex",width:"100%",marginTop:"20px"}},[n("span",{style:{fontSize:"14px",color:"#1f2d3d",display:"inline-block",width:"80px"}},[t._v("问卷描述")]),t._v(" "),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入问卷描述"},model:{value:t.editDescription,callback:function(e){t.editDescription=e},expression:"editDescription"}})],1)]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editQuestion("cancel")}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",disabled:t.editBtnFlag},on:{click:function(e){t.editQuestion("ok")}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2188:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tool-list"},t._l(t.toolList,function(e){return n("div",{key:e.alias,staticClass:"bb",attrs:{name:e.name,alias:e.alias},on:{click:function(n){t.addBB(e)}}},[n("el-button",{attrs:{plain:!0,type:"text"}},[n("i",{class:e.icon}),t._v(" "+t._s(e.name))])],1)}))},staticRenderFns:[]},t.exports.render._withStripped=!0},2189:function(t,e,n){n(2150);var i=n(0)(n(2113),n(2183),"data-v-71e2cfb8",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/bb/question-edit-attribute.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-edit-attribute.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2190:function(t,e,n){n(2147);var i=n(0)(n(2114),n(2180),"data-v-600a2139",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/bb/question-preview.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-preview.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},2191:function(t,e,n){n(2154);var i=n(0)(n(2115),n(2188),"data-v-ccec1012",null);i.options.__file="/Users/xiaobc/work/ty/ty-client-core/run/src/bb/question-tool.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] question-tool.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports}});